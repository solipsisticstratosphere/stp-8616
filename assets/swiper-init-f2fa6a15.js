import{S as C,N as q,P as T,A as N,E as A}from"./vendor-f58fd404.js";const B=()=>{if(window.innerWidth<=320){E();return}(()=>{const t=document.querySelectorAll(".character-slide"),s=document.querySelector(".swiper-wrapper");t.length===3&&s&&(t.forEach(e=>{const o=e.cloneNode(!0);o.classList.add("clone-slide"),s.appendChild(o)}),t.forEach(e=>{const o=e.cloneNode(!0);o.classList.add("clone-slide"),s.appendChild(o)}))})();const v=()=>{const t=document.querySelectorAll(".character-card__nav-btn--prev"),s=document.querySelectorAll(".character-card__nav-btn--next");t.forEach(e=>{e.addEventListener("click",()=>{r&&r.slidePrev()})}),s.forEach(e=>{e.addEventListener("click",()=>{r&&r.slideNext()})})},r=new C(".character-swiper",{modules:[q,T,N,A],effect:"coverflow",grabCursor:!0,centeredSlides:!0,slidesPerView:"auto",coverflowEffect:{rotate:0,stretch:0,depth:100,modifier:1,slideShadows:!1,scale:.85,borderRadius:40},spaceBetween:65,initialSlide:1,loop:!0,loopFillGroupWithBlank:!0,loopAdditionalSlides:3,slidesPerGroup:1,watchSlidesProgress:!0,autoplay:{delay:5e3,disableOnInteraction:!1},pagination:{el:".swiper-pagination",clickable:!0,type:"bullets",dynamicBullets:!1,dynamicMainBullets:3,renderBullet:function(t,s){return t<3?`<span class="${s}" data-index="${t}"></span>`:""}},breakpoints:{321:{slidesPerView:1,coverflowEffect:{depth:0},spaceBetween:65},768:{slidesPerView:3,coverflowEffect:{depth:50},spaceBetween:65},1200:{slidesPerView:"auto",coverflowEffect:{depth:100},spaceBetween:65},1800:{slidesPerView:"auto",coverflowEffect:{depth:150},spaceBetween:65}},on:{resize:function(){window.innerWidth<=320&&(this.destroy(!0,!0),E()),this.update()},slideChange:function(){const t=document.querySelectorAll(".swiper-pagination-bullet");if(t.length!==3)return;const s=this.realIndex%3;t.forEach(e=>{e.classList.remove("swiper-pagination-bullet-active")}),t[s].classList.add("swiper-pagination-bullet-active")},init:function(){this.slides.forEach((t,s)=>{if(t.classList.contains("swiper-slide-active")){const e=t.querySelector(".character-card");e&&(e.style.borderRadius="40px")}else{const e=t.querySelector(".character-card");e&&(e.style.transform="scale(0.85)",e.style.opacity="0.7",e.style.borderRadius="40px")}}),v()},slideChangeTransitionStart:function(){this.slides.forEach((t,s)=>{const e=t.querySelector(".character-card");e&&(t.classList.contains("swiper-slide-active")?(e.style.transform="scale(1)",e.style.opacity="1",e.style.borderRadius="40px"):(e.style.transform="scale(0.85)",e.style.opacity="0.7",e.style.borderRadius="40px"))})}}});window.addEventListener("resize",()=>{window.innerWidth<=320&&(r&&r.destroy(!0,!0),E())})},E=()=>{if(window.innerWidth>320)return;(()=>{const v=document.querySelector(".swiper-container");if(!v)return;let r=Array.from(document.querySelectorAll(".character-slide"));r.length>3&&(r=r.filter((i,a)=>a<3&&!i.classList.contains("clone-slide"))),r.length>0?r=r.slice(0,3).map(i=>{const a=i.cloneNode(!0),d=a.querySelector(".character-card");if(d){d.classList.add("mobile-card"),d.style.cssText="border-radius: 10px !important; overflow: hidden !important;";const b=d.querySelector(".character-card__image");b&&(b.classList.add("mobile-card-image"),b.style.cssText="border-radius: 10px !important; overflow: hidden !important;");const l=d.querySelector(".character-card__img");l&&(l.classList.add("mobile-card-img"),l.style.cssText="border-radius: 10px !important;");const c=d.querySelector(".character-card__content");c&&(c.classList.add("mobile-card-content"),c.style.cssText="",c.style.borderRadius="0px")}return a}):r=[{imgSrc:"img/blueimage.png",title:"Cyclone Master",desc:"Master of rotation and strategy. Can you outsmart the storm?"},{imgSrc:"img/purpleimg.png",title:"Storm Bringer",desc:"The keeper of the puzzle storm. Solve his challenges to advance!"},{imgSrc:"img/yellowimg.png",title:"Puzzle Sage",desc:"The wise mentor who offers hidden hints and boosts."}].map(a=>{const d=document.createElement("div");return d.className="character-slide",d.innerHTML=`
          <div class="character-card mobile-card" style="border-radius: 10px !important; overflow: hidden !important;">
            <div class="character-card__image mobile-card-image" style="border-radius: 10px !important; overflow: hidden !important;">
              <img src="${a.imgSrc}" alt="${a.title}" class="character-card__img mobile-card-img" style="border-radius: 10px !important;">
            </div>
            <div class="character-card__content mobile-card-content">
              <h3 class="character-card__title">${a.title}</h3>
              <p class="character-card__description">${a.desc}</p>
            </div>
          </div>
        `,d}),v.innerHTML="";const t=document.createElement("div");t.className="mobile-carousel",t.style.cssText="border-radius: 10px !important; overflow: hidden !important;",v.appendChild(t);const s=document.createElement("div");s.className="mobile-carousel__nav";const e=document.createElement("button");e.className="character-card__nav-btn character-card__nav-btn--prev",e.setAttribute("aria-label","Previous slide");const o=document.createElement("img");o.className="character-card__nav-icon character-card__nav-icon--prev",o.src="./img/arrow-left.png",o.alt="Previous",e.appendChild(o);const m=document.createElement("button");m.className="character-card__nav-btn character-card__nav-btn--next",m.setAttribute("aria-label","Next slide");const p=document.createElement("img");p.className="character-card__nav-icon character-card__nav-icon--next",p.src="./img/arrow-left.png",p.alt="Next",m.appendChild(p),e.addEventListener("mouseenter",()=>{o.src="./img/arrow-left.png"}),e.addEventListener("mouseleave",()=>{o.src="./img/arrow-left.png"}),e.addEventListener("focus",()=>{o.src="./img/arrow-left.png"}),e.addEventListener("blur",()=>{o.src="./img/arrow-left.png"}),m.addEventListener("mouseenter",()=>{p.src="./img/arrow-left.png"}),m.addEventListener("mouseleave",()=>{p.src="./img/arrow-left.png"}),m.addEventListener("focus",()=>{p.src="./img/arrow-left.png"}),m.addEventListener("blur",()=>{p.src="./img/arrow-left.png"}),s.appendChild(e),s.appendChild(m),t.appendChild(s);const y=document.createElement("div");y.className="mobile-carousel__pagination",v.appendChild(y);for(let i=0;i<3;i++){const a=document.createElement("span");a.className="mobile-carousel__dot",a.dataset.index=i,y.appendChild(a)}let n=0,h=!1;w(n);function w(i){if(h)return;h=!0;const a=i%3;y.querySelectorAll(".mobile-carousel__dot").forEach((l,c)=>{l.classList.toggle("mobile-carousel__dot--active",c===a)});const b=t.querySelector(".character-slide");if(b)b.classList.add("fade-out"),setTimeout(()=>{t.innerHTML="",t.appendChild(s);const l=i%r.length,c=r[l].cloneNode(!0);c.classList.add("fade-in");const u=c.querySelector(".character-card");if(u){u.classList.add("mobile-card"),u.style.cssText="border-radius: 10px !important; overflow: hidden !important;";const g=u.querySelector(".character-card__image");g&&(g.classList.add("mobile-card-image"),g.style.cssText="border-radius: 10px !important; overflow: hidden !important;");const f=u.querySelector(".character-card__img");f&&(f.classList.add("mobile-card-img"),f.style.cssText="border-radius: 10px !important;");const _=u.querySelector(".character-card__content");_&&(_.classList.add("mobile-card-content"),_.style.cssText="",_.style.borderRadius="0px")}t.appendChild(c),setTimeout(()=>{c.classList.remove("fade-in"),h=!1},300)},300);else{const l=r[0].cloneNode(!0),c=l.querySelector(".character-card");if(c){c.classList.add("mobile-card"),c.style.cssText="border-radius: 10px !important; overflow: hidden !important;";const u=c.querySelector(".character-card__image");u&&(u.classList.add("mobile-card-image"),u.style.cssText="border-radius: 10px !important; overflow: hidden !important;");const g=c.querySelector(".character-card__img");g&&(g.classList.add("mobile-card-img"),g.style.cssText="border-radius: 10px !important;");const f=c.querySelector(".character-card__content");f&&(f.classList.add("mobile-card-content"),f.style.cssText="",f.style.borderRadius="0px")}t.appendChild(l),h=!1}}e.addEventListener("click",()=>{h||(n=(n-1+r.length)%r.length,w(n))}),m.addEventListener("click",()=>{h||(n=(n+1)%r.length,w(n))}),y.querySelectorAll(".mobile-carousel__dot").forEach((i,a)=>{i.addEventListener("click",()=>{h||n%3===a||(n=a,w(n))})});let S=0,x=0;t.addEventListener("touchstart",i=>{S=i.changedTouches[0].screenX}),t.addEventListener("touchend",i=>{if(h)return;x=i.changedTouches[0].screenX;const a=50;x<S-a?(n=(n+1)%r.length,w(n)):x>S+a&&(n=(n-1+r.length)%r.length,w(n))})})(),window.addEventListener("resize",()=>{window.innerWidth>320&&B()})};export{B as default};
//# sourceMappingURL=swiper-init-f2fa6a15.js.map
