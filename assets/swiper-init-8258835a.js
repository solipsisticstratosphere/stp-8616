import{S as L,N as E,P as C,A as q,E as T}from"./vendor-f58fd404.js";const k=()=>{if(window.innerWidth<=320){S();return}(()=>{const e=document.querySelectorAll(".character-slide"),s=document.querySelector(".swiper-wrapper");e.length===3&&s&&(e.forEach(t=>{const d=t.cloneNode(!0);d.classList.add("clone-slide"),s.appendChild(d)}),e.forEach(t=>{const d=t.cloneNode(!0);d.classList.add("clone-slide"),s.appendChild(d)}))})();const f=()=>{const e=document.querySelectorAll(".character-card__nav-btn--prev"),s=document.querySelectorAll(".character-card__nav-btn--next");e.forEach(t=>{t.addEventListener("click",()=>{r&&r.slidePrev()})}),s.forEach(t=>{t.addEventListener("click",()=>{r&&r.slideNext()})})},r=new L(".character-swiper",{modules:[E,C,q,T],effect:"coverflow",grabCursor:!0,centeredSlides:!0,slidesPerView:"auto",coverflowEffect:{rotate:0,stretch:0,depth:100,modifier:1,slideShadows:!1,scale:.85,borderRadius:40},spaceBetween:65,initialSlide:1,loop:!0,loopFillGroupWithBlank:!0,loopAdditionalSlides:3,slidesPerGroup:1,watchSlidesProgress:!0,autoplay:{delay:5e3,disableOnInteraction:!1},pagination:{el:".swiper-pagination",clickable:!0,type:"bullets",dynamicBullets:!1,dynamicMainBullets:3,renderBullet:function(e,s){return e<3?`<span class="${s}" data-index="${e}"></span>`:""}},breakpoints:{321:{slidesPerView:1,coverflowEffect:{depth:0},spaceBetween:65},768:{slidesPerView:3,coverflowEffect:{depth:50},spaceBetween:65},1200:{slidesPerView:"auto",coverflowEffect:{depth:100},spaceBetween:65},1800:{slidesPerView:"auto",coverflowEffect:{depth:150},spaceBetween:65}},on:{resize:function(){window.innerWidth<=320&&(this.destroy(!0,!0),S()),this.update()},slideChange:function(){const e=document.querySelectorAll(".swiper-pagination-bullet");if(e.length!==3)return;const s=this.realIndex%3;e.forEach(t=>{t.classList.remove("swiper-pagination-bullet-active")}),e[s].classList.add("swiper-pagination-bullet-active")},init:function(){this.slides.forEach((e,s)=>{if(e.classList.contains("swiper-slide-active")){const t=e.querySelector(".character-card");t&&(t.style.borderRadius="40px")}else{const t=e.querySelector(".character-card");t&&(t.style.transform="scale(0.85)",t.style.opacity="0.7",t.style.borderRadius="40px")}}),f()},slideChangeTransitionStart:function(){this.slides.forEach((e,s)=>{const t=e.querySelector(".character-card");t&&(e.classList.contains("swiper-slide-active")?(t.style.transform="scale(1)",t.style.opacity="1",t.style.borderRadius="40px"):(t.style.transform="scale(0.85)",t.style.opacity="0.7",t.style.borderRadius="40px"))})}}});window.addEventListener("resize",()=>{window.innerWidth<=320&&(r&&r.destroy(!0,!0),S())})},S=()=>{if(window.innerWidth>320)return;(()=>{const f=document.querySelector(".swiper-container");if(!f)return;let r=Array.from(document.querySelectorAll(".character-slide"));r.length>3&&(r=r.filter((i,a)=>a<3&&!i.classList.contains("clone-slide"))),r.length>0?r=r.slice(0,3).map(i=>{const a=i.cloneNode(!0),n=a.querySelector(".character-card");if(n){n.classList.add("mobile-card"),n.style.cssText="border-radius: 10px !important; overflow: hidden !important;";const y=n.querySelector(".character-card__image");y&&(y.classList.add("mobile-card-image"),y.style.cssText="border-radius: 10px !important; overflow: hidden !important;");const l=n.querySelector(".character-card__img");l&&(l.classList.add("mobile-card-img"),l.style.cssText="border-radius: 10px !important;");const c=n.querySelector(".character-card__content");c&&(c.classList.add("mobile-card-content"),c.style.cssText="",c.style.borderRadius="0px")}return a}):r=[{imgSrc:"img/blueimage.png",title:"Cyclone Master",desc:"Master of rotation and strategy. Can you outsmart the storm?"},{imgSrc:"img/purpleimg.png",title:"Storm Bringer",desc:"The keeper of the puzzle storm. Solve his challenges to advance!"},{imgSrc:"img/yellowimg.png",title:"Puzzle Sage",desc:"The wise mentor who offers hidden hints and boosts."}].map(a=>{const n=document.createElement("div");return n.className="character-slide",n.innerHTML=`
          <div class="character-card mobile-card" style="border-radius: 10px !important; overflow: hidden !important;">
            <div class="character-card__image mobile-card-image" style="border-radius: 10px !important; overflow: hidden !important;">
              <img src="${a.imgSrc}" alt="${a.title}" class="character-card__img mobile-card-img" style="border-radius: 10px !important;">
            </div>
            <div class="character-card__content mobile-card-content">
              <h3 class="character-card__title">${a.title}</h3>
              <p class="character-card__description">${a.desc}</p>
            </div>
          </div>
        `,n}),f.innerHTML="";const e=document.createElement("div");e.className="mobile-carousel",e.style.cssText="border-radius: 10px !important; overflow: hidden !important;",f.appendChild(e);const s=document.createElement("div");s.className="mobile-carousel__nav";const t=document.createElement("button");t.className="character-card__nav-btn character-card__nav-btn--prev",t.innerHTML=`
  <svg class="character-card__nav-icon " width="24" height="24" viewBox="0 0 52 62">
    <path stroke="#262A57" stroke-linecap="round" stroke-linejoin="round" stroke-miterlimit="10" stroke-width="1.5" d="M32.5 51.46 18.373 34.617c-1.668-1.99-1.668-5.244 0-7.234L32.5 10.54" fill="none"/>
  </svg>`;const d=document.createElement("button");d.className="character-card__nav-btn character-card__nav-btn--next",d.innerHTML=`
  <svg class="character-card__nav-icon character-card__nav-icon--next" width="24" height="24" viewBox="0 0 52 62">
    <path stroke="#262A57" stroke-linecap="round" stroke-linejoin="round" stroke-miterlimit="10" stroke-width="1.5" d="m19.5 51.46 14.127-16.843c1.668-1.99 1.668-5.244 0-7.234L19.5 10.54" fill="none"/>
  </svg>`,s.appendChild(t),s.appendChild(d),e.appendChild(s);const w=document.createElement("div");w.className="mobile-carousel__pagination",f.appendChild(w);for(let i=0;i<3;i++){const a=document.createElement("span");a.className="mobile-carousel__dot",a.dataset.index=i,w.appendChild(a)}let o=0,p=!1;g(o);function g(i){if(p)return;p=!0;const a=i%3;w.querySelectorAll(".mobile-carousel__dot").forEach((l,c)=>{l.classList.toggle("mobile-carousel__dot--active",c===a)});const y=e.querySelector(".character-slide");if(y)y.classList.add("fade-out"),setTimeout(()=>{e.innerHTML="",e.appendChild(s);const l=i%r.length,c=r[l].cloneNode(!0);c.classList.add("fade-in");const u=c.querySelector(".character-card");if(u){u.classList.add("mobile-card"),u.style.cssText="border-radius: 10px !important; overflow: hidden !important;";const h=u.querySelector(".character-card__image");h&&(h.classList.add("mobile-card-image"),h.style.cssText="border-radius: 10px !important; overflow: hidden !important;");const m=u.querySelector(".character-card__img");m&&(m.classList.add("mobile-card-img"),m.style.cssText="border-radius: 10px !important;");const v=u.querySelector(".character-card__content");v&&(v.classList.add("mobile-card-content"),v.style.cssText="",v.style.borderRadius="0px")}e.appendChild(c),setTimeout(()=>{c.classList.remove("fade-in"),p=!1},300)},300);else{const l=r[0].cloneNode(!0),c=l.querySelector(".character-card");if(c){c.classList.add("mobile-card"),c.style.cssText="border-radius: 10px !important; overflow: hidden !important;";const u=c.querySelector(".character-card__image");u&&(u.classList.add("mobile-card-image"),u.style.cssText="border-radius: 10px !important; overflow: hidden !important;");const h=c.querySelector(".character-card__img");h&&(h.classList.add("mobile-card-img"),h.style.cssText="border-radius: 10px !important;");const m=c.querySelector(".character-card__content");m&&(m.classList.add("mobile-card-content"),m.style.cssText="",m.style.borderRadius="0px")}e.appendChild(l),p=!1}}t.addEventListener("click",()=>{p||(o=(o-1+r.length)%r.length,g(o))}),d.addEventListener("click",()=>{p||(o=(o+1)%r.length,g(o))}),w.querySelectorAll(".mobile-carousel__dot").forEach((i,a)=>{i.addEventListener("click",()=>{p||o%3===a||(o=a,g(o))})});let b=0,_=0;e.addEventListener("touchstart",i=>{b=i.changedTouches[0].screenX}),e.addEventListener("touchend",i=>{if(p)return;_=i.changedTouches[0].screenX;const a=50;_<b-a?(o=(o+1)%r.length,g(o)):_>b+a&&(o=(o-1+r.length)%r.length,g(o))})})(),window.addEventListener("resize",()=>{window.innerWidth>320&&k()})};export{k as default};
//# sourceMappingURL=swiper-init-8258835a.js.map
